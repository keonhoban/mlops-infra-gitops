apiVersion: v1
kind: ConfigMap
metadata:
  name: feature-store-resources
  namespace: feature-store-dev
  labels:
    app.kubernetes.io/part-of: mlops-platform
    app.kubernetes.io/component: feature-store-resources
    mlops.keonho.io/env: dev
    mlops.keonho.io/owner-app: dev-namespaces
data:
  user_features.schema.json: |
    {
      "feature_set": "user_features",
      "version": "v1",
      "columns": [
        {"name": "user_id", "type": "int64"},
        {"name": "f_total_events_7d", "type": "int64"},
        {"name": "f_avg_session_sec_7d", "type": "float64"},
        {"name": "f_last_event_age_sec", "type": "int64"}
      ],
      "primary_keys": ["user_id"],
      "description": "User behavior features (7d window)"
    }
  metadata.json.j2: |
    {
      "feature_set": "user_features",
      "version": "{{ version }}",
      "generated_at": "{{ generated_at }}",
      "source": "{{ source }}",
      "pipeline": "{{ pipeline }}",
      "schema_hash": "{{ schema_hash }}",
      "feature_uri": "{{ feature_uri }}",
      "description": "Feature Store-lite generated features for training/inference"
    }

